import{d as I,u as D,a as U,_ as M,k as N,w as l,e as r,r as a,b as R,l as P,m as V,f as b,o as $}from"./index-D9UNCaBM.js";const C=I({name:"AddItemView",data(){return{itemsStore:U(),friendsStore:D(),valid:!1,formRef:null,borrowedMenu:!1,returnMenu:!1,form:{itemName:"",description:"",category:"",value:0,friendId:"",borrowedDate:new Date().toISOString().slice(0,10),expectedReturn:"",notes:""},categories:[{title:"üíª Elektronika",value:"elektronika"},{title:"üìö Knihy",value:"knihy"},{title:"üî® N√°radie",value:"naradie"},{title:"‚öΩ ≈†port",value:"sport"},{title:"üì¶ In√©",value:"ine"}]}},computed:{friends(){return this.friendsStore.friends}},mounted(){this.loadData()},methods:{loadData(){this.friendsStore.loadFromLocalStorage(),this.friends.length||this.friendsStore.initMockData()},handleSubmit(){const e=this.friends.find(o=>o.id===this.form.friendId);if(!e)return alert("Vyberte priateƒæa");if(!this.form.category)return alert("Vyberte kateg√≥riu");if(this.form.expectedReturn<this.form.borrowedDate)return alert("D√°tum vr√°tenia nem√¥≈æe by≈• pred d√°tumom po≈æiƒçania");this.itemsStore.addItem({friendId:this.form.friendId,itemName:this.form.itemName,description:this.form.description,category:this.form.category,friend:{id:e.id,name:e.name,avatar:e.avatar},borrowedDate:this.form.borrowedDate,expectedReturn:this.form.expectedReturn,value:this.form.value,notes:this.form.notes}),this.friendsStore.updateFriendStats(e.id),alert("‚úÖ Po≈æiƒçka √∫spe≈°ne pridan√°!"),this.$router.push("/")},handleCancel(){confirm("Naozaj chcete zru≈°i≈• prid√°vanie po≈æiƒçky?")&&this.$router.push("/")}}});function h(e,o,_,q,z,j){const w=a("v-card-title"),n=a("v-text-field"),s=a("v-textarea"),u=a("v-select"),d=a("v-col"),m=a("v-row"),f=a("v-date-picker"),p=a("v-menu"),v=a("v-btn"),y=a("v-card-actions"),k=a("v-form"),c=a("v-card-text"),S=a("v-card"),g=a("v-container");return $(),N(g,{class:"add-item-view","max-width":"700px"},{default:l(()=>[r(S,{elevation:"2",class:"pa-6"},{default:l(()=>[r(w,null,{default:l(()=>[...o[15]||(o[15]=[R("h1",null,"Prida≈• nov√∫ po≈æiƒçku",-1)])]),_:1}),r(c,null,{default:l(()=>[r(k,{ref:"formRef",modelValue:e.valid,"onUpdate:modelValue":o[14]||(o[14]=t=>e.valid=t),onSubmit:P(e.handleSubmit,["prevent"])},{default:l(()=>[r(n,{modelValue:e.form.itemName,"onUpdate:modelValue":o[0]||(o[0]=t=>e.form.itemName=t),label:"N√°zov veci *",placeholder:"napr. PlayStation 5",rules:[t=>!!t||"Pole je povinn√©"],required:""},null,8,["modelValue","rules"]),r(s,{modelValue:e.form.description,"onUpdate:modelValue":o[1]||(o[1]=t=>e.form.description=t),label:"Popis",placeholder:"Kr√°tky popis veci...",rows:"3"},null,8,["modelValue"]),r(m,{class:"mt-4",dense:""},{default:l(()=>[r(d,{cols:"6"},{default:l(()=>[r(u,{modelValue:e.form.category,"onUpdate:modelValue":o[2]||(o[2]=t=>e.form.category=t),items:e.categories,label:"Kateg√≥ria *","item-title":"title","item-value":"value",rules:[t=>!!t||"Vyberte kateg√≥riu"],required:""},null,8,["modelValue","items","rules"])]),_:1}),r(d,{cols:"6"},{default:l(()=>[r(n,{modelValue:e.form.value,"onUpdate:modelValue":o[3]||(o[3]=t=>e.form.value=t),modelModifiers:{number:!0},label:"Hodnota (‚Ç¨) *",type:"number",min:"0",step:"0.01",rules:[t=>t>=0||"Hodnota mus√≠ by≈• >= 0"],required:""},null,8,["modelValue","rules"])]),_:1})]),_:1}),r(u,{modelValue:e.form.friendId,"onUpdate:modelValue":o[4]||(o[4]=t=>e.form.friendId=t),items:e.friends,"item-title":"name","item-value":"id",label:"Po≈æiƒçan√© komu *",rules:[t=>!!t||"Vyberte priateƒæa"],required:""},null,8,["modelValue","items","rules"]),r(m,{class:"mt-4",dense:""},{default:l(()=>[r(d,{cols:"6"},{default:l(()=>[r(p,{modelValue:e.borrowedMenu,"onUpdate:modelValue":o[8]||(o[8]=t=>e.borrowedMenu=t),"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:l(({props:t})=>[r(n,V({modelValue:e.form.borrowedDate,"onUpdate:modelValue":o[5]||(o[5]=i=>e.form.borrowedDate=i),label:"D√°tum po≈æiƒçania *",readonly:""},t),null,16,["modelValue"])]),default:l(()=>[r(f,{modelValue:e.form.borrowedDate,"onUpdate:modelValue":o[6]||(o[6]=t=>e.form.borrowedDate=t),onInput:o[7]||(o[7]=t=>e.borrowedMenu=!1)},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),r(d,{cols:"6"},{default:l(()=>[r(p,{modelValue:e.returnMenu,"onUpdate:modelValue":o[12]||(o[12]=t=>e.returnMenu=t),"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:l(({props:t})=>[r(n,V({modelValue:e.form.expectedReturn,"onUpdate:modelValue":o[9]||(o[9]=i=>e.form.expectedReturn=i),label:"Oƒçak√°van√© vr√°tenie *",readonly:""},t),null,16,["modelValue"])]),default:l(()=>[r(f,{modelValue:e.form.expectedReturn,"onUpdate:modelValue":o[10]||(o[10]=t=>e.form.expectedReturn=t),onInput:o[11]||(o[11]=t=>e.returnMenu=!1)},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),r(s,{modelValue:e.form.notes,"onUpdate:modelValue":o[13]||(o[13]=t=>e.form.notes=t),label:"Pozn√°mky",rows:"2"},null,8,["modelValue"]),r(y,{class:"mt-6 justify-space-between"},{default:l(()=>[r(v,{color:"primary",type:"submit"},{default:l(()=>[...o[16]||(o[16]=[b("Prida≈• po≈æiƒçku",-1)])]),_:1}),r(v,{color:"secondary",onClick:e.handleCancel},{default:l(()=>[...o[17]||(o[17]=[b("Zru≈°i≈•",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})}const F=M(C,[["render",h],["__scopeId","data-v-59a5ccaf"]]);export{F as default};
