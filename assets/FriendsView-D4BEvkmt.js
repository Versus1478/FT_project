import{d as u,u as f,_ as h,c as n,b as s,p as v,F as b,j as y,l as m,g as a,v as d,o as i,t as l}from"./index-D9UNCaBM.js";const g=u({name:"FriendsView",data(){return{showModal:!1,form:{name:"",email:"",phone:""}}},computed:{friendsStore(){return f()},friends(){return this.friendsStore.friends}},mounted(){console.log("üîµ FriendsView mounted"),this.friendsStore.loadFromLocalStorage(),this.friendsStore.updateAllStats(),this.friends.length===0&&(this.friendsStore.initMockData(),this.friendsStore.updateAllStats()),console.log("üë• Friends loaded:",this.friends.length)},methods:{getInitials(o){return o.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2)},handleAddFriend(){if(!this.form.name.trim()||!this.form.email.trim()||!this.form.phone.trim()){alert("V≈°etky polia s√∫ povinn√©");return}console.log("‚ûï Adding friend:",this.form),this.friendsStore.addFriend({name:this.form.name.trim(),email:this.form.email.trim(),phone:this.form.phone.trim()}),this.form={name:"",email:"",phone:""},this.showModal=!1,console.log("‚úÖ Friend added, total friends:",this.friends.length)},handleDeleteFriend(o){const e=this.friendsStore.getFriendById(o);if(e&&confirm(`Naozaj chcete vymaza≈• ${e.name}?`))try{this.friendsStore.deleteFriend(o),console.log("üóëÔ∏è Friend deleted:",e.name)}catch(r){alert(r.message),console.error("‚ùå Delete error:",r)}},viewFriendItems(o){this.$router.push({name:"Dashboard",query:{friendId:o}})},closeModal(){this.showModal=!1,this.form={name:"",email:"",phone:""}}}}),k={class:"friends-view"},F={class:"header"},M={key:0,class:"friends-grid"},c={class:"avatar"},w={class:"friend-info"},C={class:"contact-info"},S={class:"stats"},V={class:"stat-item"},$={class:"stat-value"},j={class:"stat-item"},D={class:"stat-value"},A={class:"friend-actions"},I=["onClick"],P=["onClick"],q={key:1,class:"empty-state"},z={class:"modal-header"},B={class:"form-group"},N={class:"form-group"},U={class:"form-group"},E={class:"modal-actions"};function L(o,e,r,T,Z,J){return i(),n("div",k,[s("div",F,[e[10]||(e[10]=s("h1",null,"Moji priatelia",-1)),s("button",{onClick:e[0]||(e[0]=t=>o.showModal=!0),class:"btn btn-primary"},"+ Prida≈• priateƒæa")]),o.friends.length>0?(i(),n("div",M,[(i(!0),n(b,null,y(o.friends,t=>(i(),n("div",{key:t.id,class:"friend-card"},[s("div",c,l(o.getInitials(t.name)),1),s("div",w,[s("h3",null,l(t.name),1),s("div",C,[s("p",null,"üìß "+l(t.email),1),s("p",null,"üì± "+l(t.phone),1)])]),s("div",S,[s("div",V,[s("span",$,l(t.borrowedCount),1),e[11]||(e[11]=s("span",{class:"stat-label"},"Po≈æiƒçan√Ωch vec√≠",-1))]),s("div",j,[s("span",D,l(t.totalValue)+" ‚Ç¨",1),e[12]||(e[12]=s("span",{class:"stat-label"},"Celkov√° hodnota",-1))])]),s("div",A,[s("button",{onClick:p=>o.viewFriendItems(t.id),class:"btn btn-secondary btn-sm"}," Zobrazi≈• veci ",8,I),s("button",{onClick:p=>o.handleDeleteFriend(t.id),class:"btn btn-danger btn-sm"}," Vymaza≈• ",8,P)])]))),128))])):(i(),n("div",q,[e[13]||(e[13]=s("div",{class:"empty-icon"},"üë•",-1)),e[14]||(e[14]=s("h2",null,"≈Ωiadni priatelia",-1)),e[15]||(e[15]=s("p",null,"Pridajte svojich priateƒæov, aby ste mohli sledova≈• po≈æiƒçky",-1)),s("button",{onClick:e[1]||(e[1]=t=>o.showModal=!0),class:"btn btn-primary"},"+ Prida≈• prv√©ho priateƒæa")])),o.showModal?(i(),n("div",{key:2,class:"modal-overlay",onClick:e[9]||(e[9]=(...t)=>o.closeModal&&o.closeModal(...t))},[s("div",{class:"modal-content",onClick:e[8]||(e[8]=m(()=>{},["stop"]))},[s("div",z,[e[16]||(e[16]=s("h2",null,"Prida≈• nov√©ho priateƒæa",-1)),s("button",{onClick:e[2]||(e[2]=(...t)=>o.closeModal&&o.closeModal(...t)),class:"close-btn"},"√ó")]),s("form",{onSubmit:e[7]||(e[7]=m((...t)=>o.handleAddFriend&&o.handleAddFriend(...t),["prevent"])),class:"friend-form"},[s("div",B,[e[17]||(e[17]=s("label",{for:"name"},"Meno *",-1)),a(s("input",{id:"name","onUpdate:modelValue":e[3]||(e[3]=t=>o.form.name=t),type:"text",placeholder:"napr. J√°n Nov√°k",required:"",class:"form-input"},null,512),[[d,o.form.name]])]),s("div",N,[e[18]||(e[18]=s("label",{for:"email"},"Email *",-1)),a(s("input",{id:"email","onUpdate:modelValue":e[4]||(e[4]=t=>o.form.email=t),type:"email",placeholder:"jan@email.com",required:"",class:"form-input"},null,512),[[d,o.form.email]])]),s("div",U,[e[19]||(e[19]=s("label",{for:"phone"},"Telef√≥n *",-1)),a(s("input",{id:"phone","onUpdate:modelValue":e[5]||(e[5]=t=>o.form.phone=t),type:"tel",placeholder:"+421 900 123 456",required:"",class:"form-input"},null,512),[[d,o.form.phone]])]),s("div",E,[e[20]||(e[20]=s("button",{type:"submit",class:"btn btn-primary"},"Prida≈• priateƒæa",-1)),s("button",{type:"button",onClick:e[6]||(e[6]=(...t)=>o.closeModal&&o.closeModal(...t)),class:"btn btn-secondary"},"Zru≈°i≈•")])],32)])])):v("",!0)])}const H=h(g,[["render",L],["__scopeId","data-v-db96385b"]]);export{H as default};
